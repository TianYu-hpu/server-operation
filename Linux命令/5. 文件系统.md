# 文件系统管理
## 分区和文件系统
最多四个主分区和扩展分区，扩展分区只能有一个，扩展分区里面可以分配多个逻辑分区，1、2、3、4 这四个分区号只能给主分区和扩展分区使用，即使主分区和扩展分区没有使用的前提下，逻辑分区页只能从 5 分区号开始进行分区  
文件系统:
ext2 最大支持16 TB 的分区，最大支持 2TB 的文件大小  
ext3 和 ext2 最大区别就是带日志功能，以在系统突然停止时提高文件系统的可靠性  
ext4 最大支持 1EB 的分区和最大 16 TB 的文件,无限数量子目录，Extents 连续数据块概念，多块分配、延迟分配、持久预分配，快速 FSCK ， 日志校验，无日志模式，在线碎片处理， inode 增强，默认启动 barrier 等，在性能、伸缩性和可靠性方面进行了大量改进，向下兼容 ext3,是 CentOS 6.3 默认的文件系统。  
## <font color="red"> 1EB = 1024 PB = 1024 * 1024 TB</font>
## 文件系统常用该命令
### df  磁盘使用空间大小  
在统计的时候还会统计系统占用的资源文件大小  
### du  目录使用空间大小  
只会统计文件大小，因此这个值一般比 df 查出来的值要小  
### fsck 文件系统修复命令  

	fsck [选项] 分区设备文件名
	-a 不用显示用户提示，自动修复文件系统
	-y 自动修复，和 -a 一样，不过有些文件系统只支持 -y 选项

dumpe2fs 显示磁盘状态命令  
### mount 命令

	mount [-t 文件系统] [-L 卷标名] [-o 特殊选项] 设备文件名 挂载点

	-t 文件系统 ext3/ext4 iso9660,vfat(fat32),fat(fat64)
	-L 别名
	-o 指定挂载的额外选项，常用选项 remount 重新挂载 
	exec/noexec 是否允许在文件系统执行可执行文件，默认是 exec 允许
	rw/ro 读写权限 或 只读权限  
支持 NTFS 分区，下载 NTFS-3G 插件来支持 NTFS 分区，挂载 NTFS 分区  

	mount -t ntfs-3g 分区设备文件名 挂载点
## fdisk 分区
### fdisk 命令分区过程
	
	fdisk -l 查询系统中有多少可以识别的硬盘或U盘或光盘
	硬盘分区
	fdisk 设备名 /dev/sdb
### 分区自动挂载与 fstab 文件修复
开机自动挂载，修改 /etc/fstab 这个文件，开机的时候就会按照这个配置文件进行挂载  
第一个字段: 分区设备文件名或 UUID（硬盘通用唯一识别码）  
第二字段： 挂载点  
第三个字段： 文件系统名称  
第四个字段： 挂载参数  
第五个字段:指定分区是否被 dump 备份， 0代表不备份，1代表每天备份，2代表不定期备份  
第六个字段：指定分区是否被 fsck 检测， 0 代表不检测， 其他数字代表检测的优先级， 那么当然 1 的优先级比 2 高  
在重启之前为了验证 /etc/fstab 文件是否正确，执行一遍 mount -a 自动挂载命令，如果出错则说明 /etc/fstab 文件书写错误。否则则是正确的可以重新启动
